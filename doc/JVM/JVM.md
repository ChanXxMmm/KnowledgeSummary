- [1.JVM与操作系统的关系](#JVM与操作系统的关系)
- [2.JVM运行过程](#JVM运行过程)
- [3.运行时数据区](#运行时数据区)


# JVM与操作系统的关系
* 什么是JVM

  JVM -- Java Virtual Machine(Java虚拟机)

* JVM的作用

  JVM的作用就是翻译: 我们平时写的代码都是Java程序，通常是.java后缀，通过javac编译成.class文件，也就是Java字节码，而JVM可以识别字节码的同时还要调操作系统的一些函数，说直白点就是JVM能将字节码翻译成操作系统能够识别的机器码
  
* 跨平台到跨语言
  
  比如我们在接触到的第一个程序HelloWorld.java，它通过javac编译成.class或者打包成jar等，而它在不同操作系统上运行的效果都是一样的，这就是跨平台。
  
  而随着Kotlin的出现，JVM也能够识别Kotlin语言，将它生成的字节码翻译成操作系统能够识别的，当然还有很多其他语言是一样的，这就是跨语言。
  
扩展: JavaSe体系架构
1. JVM只是一个翻译
2. JRE提供了基础类库: 比如io，网络等
3. JDK提供了工具: 比如上面说的将javac工具,反编译用的javap工具等

# JVM运行过程

![image](https://user-images.githubusercontent.com/61224872/111259295-954d1400-8659-11eb-8724-03f6851775eb.png)

* 首先我们编写一个HelloWord.java文件
* 通过javac工具将上述文件编程成HelloWord.class文件，就是上面所说的字节码
* 通过JVM
  * 首先要做的就是通过Java类加载CLassLoader加载到运行时数据区(它就是JVM所管理的内存)中
  * 之后通过JVM中的执行引擎去将运行时数据区中的数据解释执行或者JIT执行操作系统(解释执行可以理解为翻译一行执行一行，JIT可以理解为热点数据，比如一个方法翻译执行了100次，1000次，它就会认为是热点数据，一直是解释执行没有意义，效率很低，它会直接编译成本地代码，提高运行速度)

# 运行时数据区

* 定义:

  Java虚拟机在执行Java程序的过程中会把它所管理的内存划分为若干个不同的数据区域

![image](https://user-images.githubusercontent.com/61224872/111259752-8d41a400-865a-11eb-9061-6459d1b33363.png)

我们可以看到运行时数据分可以划分为线程共享和线程隔离/私有的由于多线程的存在

线程私有: 比如三个线程，那么在运行时数据区中，就会有三份线程私有的数据区，分别包含虚拟机栈，本地方法栈，程序计数器。

线程共享: 不受线程影响的有方法区和堆

下面来详细介绍下运行时数据区中的东西:
1. 程序计数器 : 在多线程的环境下，程序计数器负责指向当前线程正在执行的字节码指令的地址
